{"version":3,"sources":["webpack:///./src/views/frontend/Cart.vue?bd98","webpack:///src/views/frontend/Cart.vue","webpack:///./src/views/frontend/Cart.vue?b128","webpack:///./src/views/frontend/Cart.vue","webpack:///./src/components/frontend/CartBanner.vue?5fb4","webpack:///./src/components/frontend/CartBanner.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","class","fareTotal","carts","length","_m","_l","item","key","product","id","removeCartItem","_v","_s","title","quantity","quantityUpdata","domProps","type","indexOf","_k","keyCode","target","value","unit","_f","price","removeAllCartItem","cartTotal","_e","disabled","staticRenderFns","staticStyle","components","CartBanner","data","uuid","products","coupon_code","created","getCart","methods","$http","get","url","updateTotal","forEach","total","num","patch","delete","component","script"],"mappings":"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","file":"js/chunk-6152eb3c.54cde465.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('i',{staticClass:\"loading-box\"})]),_c('CartBanner'),_c('div',{staticClass:\"container my-5 m-cart-box\"},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-lg-8 commodity-box\",class:{ 'col-lg-12': _vm.fareTotal <= 0, 'none-commodity': _vm.fareTotal <= 0 }},[(_vm.carts.length > 0)?_c('div',[_c('table',{staticClass:\"mt-3\"},[_vm._m(0),_c('tbody',{staticClass:\"border-y\"},_vm._l((_vm.carts),function(item){return _c('tr',{key:item.product.id + 1},[_c('td',[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.product.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('td',{staticClass:\"produce-num-td\"},[_c('div',{staticClass:\"produce-num-group d-flex\"},[_c('div',{staticClass:\"num-btnbox\"},[_c('button',{staticClass:\"btn\",attrs:{\"disabled\":item.quantity <= 1},on:{\"click\":function($event){return _vm.quantityUpdata(item.product.id, item.quantity - 1)}}},[_c('i',{staticClass:\"fas fa-minus\"})])]),_c('input',{staticClass:\"form-control text-center numbox\",attrs:{\"type\":\"number\"},domProps:{\"value\":item.quantity},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.quantityUpdata(item.product.id, $event.target.value)}}}),_c('div',{staticClass:\"num-btnbox\"},[_c('button',{staticClass:\"btn\",attrs:{\"disabled\":item.quantity >= 10},on:{\"click\":function($event){return _vm.quantityUpdata(item.product.id, item.quantity + 1)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])])]),_c('td',[_c('span',[_vm._v(\"/\")]),_vm._v(\" \"+_vm._s(item.product.unit)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.product.price))+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('button',{staticClass:\"btn btn-del-all sideline btn-sm float-left my-3\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeAllCartItem()}}},[_vm._m(1)])])])])])]):_c('div',{staticClass:\"mb-3 no-shop-box\"},[_c('p',{staticClass:\"py-5 mt-3\"},[_vm._v(\" 哎呀！您的購物車是空的，趕快去挑選裝備吧！ \")]),_c('router-link',{staticClass:\"text-dark\",attrs:{\"to\":\"/products\"}},[_c('i',{staticClass:\"fas fa-reply mr-2\"}),_vm._v(\" 繼續購買 \")])],1)]),_c('div',{staticClass:\"col-lg-4 my-3 card order-price\",class:{ 'd-none': _vm.fareTotal <= 0 }},[_c('div',{staticClass:\"card-body\"},[_c('h3',[_vm._v(\"訂單價格\")]),_c('div',{staticClass:\"px-4 mt-3\"},[_c('p',{staticClass:\" d-flex justify-content-between\"},[_c('span',[_vm._v(\"小計：\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cartTotal)))])]),((_vm.cartTotal !== 0))?_c('p',{staticClass:\"d-flex fare justify-content-between\"},[_c('span',[_vm._v(\"運費：\")]),((_vm.cartTotal > 1299))?_c('span',[_vm._v(\" NT 0\")]):_c('span',[_vm._v(\" NT 80\")])]):_vm._e(),_c('hr',{staticClass:\"m-0  my-2\"}),_c('p',{staticClass:\"text-right promotion\"},[_vm._v(\"優惠促銷：滿 1299 免運\")]),_c('p',{staticClass:\" d-flex justify-content-between\"},[_c('span',[_vm._v(\"總計：\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.fareTotal))+\" \")])]),_c('hr',{staticClass:\"hr-opa\"}),_c('div',{staticClass:\"mt-3 mb-2 check-box\"},[_c('div',[(_vm.carts.length > 0)?_c('router-link',{staticClass:\"text-dark\",attrs:{\"to\":\"/products\"}},[_c('i',{staticClass:\"fas fa-reply mr-2\"}),_vm._v(\" 繼續購買 \")]):_vm._e()],1),_c('div',{staticClass:\"float-right\"},[_c('router-link',{staticClass:\"btn btn-check checkout\",class:{ disabled: _vm.fareTotal <= 0 },attrs:{\"to\":\"/order\"}},[_vm._v(\" 結帳 \")])],1)])])])])])]),(!_vm.isLoading)?_c('section',{staticClass:\"bg-cart-footer\"},[_vm._m(2)]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"font-weight-bold\"},[_c('tr',[_c('th'),_c('th',{staticClass:\"text-left\"},[_vm._v(\"商品\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\" 數量 \")]),_c('th',[_vm._v(\"單位\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"單價\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"far fa-trash-alt\"},[_c('span',{staticClass:\"pl-2\"},[_vm._v(\"刪除所有商品\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container pt-4\"},[_c('h4',{staticClass:\"font-weight-bold text-center h4\"},[_vm._v(\"登山知識\")]),_c('div',{staticClass:\"row mt-4 m-footer-cart\"},[_c('div',{staticClass:\"col-lg-4 col-md-6 mb-4\",attrs:{\"data-aos\":\"zoom-in\"}},[_c('div',{staticClass:\"knowledge-img position-relative\",staticStyle:{\"background-image\":\"url(https://images.unsplash.com/photo-1590395115794-c960459589d1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1419&q=80)\"}},[_c('div',{staticClass:\"knowledge-box\"},[_c('h5',{staticClass:\"font-weight-bolder pt-3 pb-2 pl-4\"},[_vm._v(\"郊山\")]),_c('p',{staticClass:\"px-4 my-3\"},[_vm._v(\"位於約 1,000m-1,500m，難易度較低，適合想登山健走的朋友。\")])])])]),_c('div',{staticClass:\"col-lg-4 col-md-6 mb-4\",attrs:{\"data-aos\":\"zoom-in\"}},[_c('div',{staticClass:\"knowledge-img position-relative\",staticStyle:{\"background-image\":\"url(https://images.unsplash.com/photo-1542359649-31e03cd4d909?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80)\"}},[_c('div',{staticClass:\"knowledge-box\"},[_c('h5',{staticClass:\"font-weight-bolder pt-3 pb-2 pl-4\"},[_vm._v(\"中級山\")]),_c('p',{staticClass:\"px-4 my-3\"},[_vm._v(\"位於海拔約 1,000m-3,000m，介於郊山與百岳之間的山。來回通常需花上 2-3 天。\")])])])]),_c('div',{staticClass:\"col-lg-4 col-md-6 mb-4\",attrs:{\"data-aos\":\"zoom-in\"}},[_c('div',{staticClass:\"knowledge-img position-relative\",staticStyle:{\"background-image\":\"url(https://images.unsplash.com/photo-1552590854-7a7d89b018ff?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80)\"}},[_c('div',{staticClass:\"knowledge-box\"},[_c('h5',{staticClass:\"font-weight-bolder pt-3 pb-2 pl-4\"},[_vm._v(\"百岳\")]),_c('p',{staticClass:\"px-4 my-3\"},[_vm._v(\"百岳不是一座山，而是從台灣海拔 3,000m 以上的高山中，挑選出100座的高山做為百岳。\")])])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\">\n      <i class=\"loading-box\"></i>\n    </loading>\n    <CartBanner />\n    <div class=\"container my-5 m-cart-box\">\n      <div class=\"row align-items-center\">\n        <div\n          class=\"col-lg-8 commodity-box\"\n          :class=\"{ 'col-lg-12': fareTotal <= 0, 'none-commodity': fareTotal <= 0 }\"\n        >\n          <div v-if=\"carts.length > 0\">\n            <table class=\"mt-3\">\n              <thead class=\"font-weight-bold\">\n                <tr>\n                  <th></th>\n                  <th class=\"text-left\">商品</th>\n                  <th class=\"text-center\">\n                    數量\n                  </th>\n                  <th>單位</th>\n                  <th class=\"text-right\">單價</th>\n                </tr>\n              </thead>\n              <tbody class=\"border-y\">\n                <tr v-for=\"item in carts\" :key=\"item.product.id + 1\">\n                  <td>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-danger btn-sm\"\n                      @click=\"removeCartItem(item.product.id)\"\n                    >\n                      <i class=\"far fa-trash-alt\"></i>\n                    </button>\n                  </td>\n                  <td>\n                    {{ item.product.title }}\n                  </td>\n                  <td class=\"produce-num-td\">\n                    <div class=\"produce-num-group d-flex\">\n                      <div\n                        class=\"num-btnbox\"\n                      >\n                        <button\n                          class=\"btn\"\n                          @click=\"quantityUpdata(item.product.id, item.quantity - 1)\"\n                          :disabled = \"item.quantity <= 1\"\n                        >\n                          <i class=\"fas fa-minus\"></i>\n                        </button>\n                      </div>\n                      <input\n                        type=\"number\"\n                        class=\"form-control text-center numbox\"\n                        :value=\"item.quantity\"\n                        @keyup.enter=\"quantityUpdata(item.product.id, $event.target.value)\"\n                      />\n                      <div class=\"num-btnbox\">\n                        <button\n                          class=\"btn\"\n                          @click=\"quantityUpdata(item.product.id, item.quantity + 1)\"\n                          :disabled = \"item.quantity >= 10\"\n                        >\n                          <i class=\"fas fa-plus\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </td>\n                  <td >\n                    <span>/</span> {{ item.product.unit }}\n                  </td>\n                  <td class=\"text-right\">\n                    {{ item.product.price | currency }}\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td colspan=\"4\">\n                      <button\n                      type=\"button\"\n                      class=\"btn btn-del-all sideline btn-sm float-left my-3\"\n                      @click=\"removeAllCartItem()\"\n                    >\n                      <i class=\"far fa-trash-alt\">\n                        <span class=\"pl-2\">刪除所有商品</span>\n                      </i>\n                    </button>\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n          <div class=\"mb-3 no-shop-box\" v-else>\n            <p class=\"py-5 mt-3\">\n              哎呀！您的購物車是空的，趕快去挑選裝備吧！\n            </p>\n            <router-link\n              to=\"/products\"\n              class=\"text-dark\"\n            >\n              <i class=\"fas fa-reply mr-2\"></i>\n              繼續購買\n            </router-link>\n          </div>\n        </div>\n        <div\n        class=\"col-lg-4 my-3 card order-price\"\n        :class=\"{ 'd-none': fareTotal <= 0 }\">\n          <div class=\"card-body\">\n            <h3>訂單價格</h3>\n            <div class=\"px-4 mt-3\">\n              <p class=\" d-flex justify-content-between\">\n                <span>小計：</span>\n                <span>{{ cartTotal | currency }}</span>\n              </p>\n              <p\n                class=\"d-flex fare justify-content-between\"\n                v-if=\"(cartTotal !== 0)\"\n              >\n                <span>運費：</span>\n                <span v-if=\"(cartTotal > 1299)\"> NT 0</span>\n                <span v-else> NT 80</span>\n              </p>\n              <hr class=\"m-0  my-2\">\n              <p class=\"text-right promotion\">優惠促銷：滿 1299 免運</p>\n              <p class=\" d-flex justify-content-between\">\n                <span>總計：</span>\n                <span>\n                  {{ fareTotal | currency }}\n                </span>\n              </p>\n              <hr class=\"hr-opa\">\n              <div\n                class=\"mt-3 mb-2 check-box\"\n              >\n                <div>\n                  <router-link\n                    to=\"/products\"\n                    class=\"text-dark\"\n                    v-if=\"carts.length > 0\"\n                  >\n                  <i class=\"fas fa-reply mr-2\"></i>\n                    繼續購買\n                  </router-link>\n                </div>\n                <div class=\"float-right\">\n                  <router-link\n                    to=\"/order\"\n                    class=\"btn btn-check checkout\"\n                    :class=\"{ disabled: fareTotal <= 0 }\"\n                  >\n                    結帳\n                  </router-link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <section\n      class=\"bg-cart-footer\"\n      v-if=\"!isLoading\"\n    >\n      <div class=\"container pt-4\">\n        <h4 class=\"font-weight-bold text-center h4\">登山知識</h4>\n        <div class=\"row mt-4 m-footer-cart\">\n          <div\n            class=\"col-lg-4 col-md-6 mb-4\"\n            data-aos=\"zoom-in\"\n          >\n            <div\n            class=\"knowledge-img position-relative\"\n            style=\"background-image: url(https://images.unsplash.com/photo-1590395115794-c960459589d1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1419&q=80)\">\n              <div class=\"knowledge-box\">\n                <h5 class=\"font-weight-bolder pt-3 pb-2 pl-4\">郊山</h5>\n                <p class=\"px-4 my-3\">位於約 1,000m-1,500m，難易度較低，適合想登山健走的朋友。</p>\n              </div>\n            </div>\n          </div>\n          <div\n            class=\"col-lg-4 col-md-6 mb-4\"\n            data-aos=\"zoom-in\"\n          >\n            <div\n            class=\"knowledge-img position-relative\"\n            style=\"background-image: url(https://images.unsplash.com/photo-1542359649-31e03cd4d909?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80)\">\n              <div class=\"knowledge-box\">\n                <h5 class=\"font-weight-bolder pt-3 pb-2 pl-4\">中級山</h5>\n                <p class=\"px-4 my-3\">位於海拔約 1,000m-3,000m，介於郊山與百岳之間的山。來回通常需花上 2-3 天。</p>\n              </div>\n            </div>\n          </div>\n          <div\n            class=\"col-lg-4 col-md-6 mb-4\"\n            data-aos=\"zoom-in\"\n          >\n            <div\n            class=\"knowledge-img position-relative\"\n            style=\"background-image: url(https://images.unsplash.com/photo-1552590854-7a7d89b018ff?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80)\">\n              <div class=\"knowledge-box\">\n                <h5 class=\"font-weight-bolder pt-3 pb-2 pl-4\">百岳</h5>\n                <p class=\"px-4 my-3\">百岳不是一座山，而是從台灣海拔 3,000m 以上的高山中，挑選出100座的高山做為百岳。</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport CartBanner from '@/components/frontend/CartBanner.vue';\nimport Toast from '@/alert/Toast';\n\nexport default {\n  components: {\n    CartBanner,\n  },\n  data() {\n    return {\n      carts: {},\n      cartTotal: 0,\n      fareTotal: 0,\n      uuid: process.env.VUE_APP_UUID,\n      isLoading: false,\n      products: {},\n      coupon_code: '',\n    };\n  },\n  created() {\n    this.getCart();\n  },\n  methods: {\n    getCart() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}/${this.uuid}/ec/shopping`;\n      this.$http.get(url)\n        .then((res) => {\n          this.carts = res.data.data;\n          this.updateTotal();\n          this.isLoading = false;\n        }).catch(() => {\n          Toast.fire({\n            title: '資料讀取失敗，請稍後再試',\n            icon: 'error',\n          });\n          this.isLoading = false;\n        });\n    },\n    updateTotal() {\n      let total = 0;\n      this.carts.forEach((item) => {\n        total += item.product.price * item.quantity;\n      });\n      this.cartTotal = total;\n      if (total >= 1299 || total === 0) {\n        this.fareTotal = total;\n      } else {\n        this.fareTotal = total + 80;\n      }\n    },\n    quantityUpdata(id, num) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}/${this.uuid}/ec/shopping`;\n      const data = {\n        product: id,\n        quantity: num,\n      };\n      this.$http.patch(url, data)\n        .then(() => {\n          this.getCart();\n          this.isLoading = false;\n        });\n    },\n    removeCartItem(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}/${this.uuid}/ec/shopping/${id}`;\n      this.$http.delete(url)\n        .then(() => {\n          this.$bus.$emit('update-total');\n          this.getCart();\n          this.isLoading = false;\n          Toast.fire({\n            title: '商品已刪除',\n            icon: 'success',\n          });\n        })\n        .catch(() => {\n          this.isLoading = false;\n          Toast.fire({\n            title: '商品刪除失敗',\n            icon: 'error',\n          });\n        });\n    },\n    removeAllCartItem() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}/${this.uuid}/ec/shopping/all/product`;\n      this.$http.delete(url)\n        .then(() => {\n          this.$bus.$emit('update-total');\n          this.getCart();\n          this.cartTotal = 0;\n          this.isLoading = false;\n          Toast.fire({\n            title: '商品已全部刪除',\n            icon: 'success',\n          });\n          this.$router.push('/products');\n        }).catch(() => {\n          this.isLoading = false;\n          Toast.fire({\n            title: '商品刪除失敗',\n            icon: 'error',\n          });\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=6ed0e1d0&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart-banner\"},[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"購物清單\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CartBanner.vue?vue&type=template&id=f3396a64&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}