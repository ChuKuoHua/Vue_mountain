(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6152eb3c"],{2355:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("i",{staticClass:"loading-box"})]),s("CartBanner"),s("div",{staticClass:"container my-5 m-cart-box"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-lg-8 commodity-box",class:{"col-lg-12":t.fareTotal<=0,"none-commodity":t.fareTotal<=0}},[t.carts.length>0?s("div",[s("table",{staticClass:"mt-3"},[t._m(0),s("tbody",{staticClass:"border-y"},t._l(t.carts,(function(a){return s("tr",{key:a.product.id+1},[s("td",[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.removeCartItem(a.product.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",[t._v(" "+t._s(a.product.title)+" ")]),s("td",{staticClass:"produce-num-td"},[s("div",{staticClass:"produce-num-group d-flex"},[s("div",{staticClass:"num-btnbox"},[s("button",{staticClass:"btn",attrs:{disabled:a.quantity<=1},on:{click:function(s){return t.quantityUpdata(a.product.id,a.quantity-1)}}},[s("i",{staticClass:"fas fa-minus"})])]),s("input",{staticClass:"form-control text-center numbox",attrs:{type:"number"},domProps:{value:a.quantity},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.quantityUpdata(a.product.id,s.target.value)}}}),s("div",{staticClass:"num-btnbox"},[s("button",{staticClass:"btn",attrs:{disabled:a.quantity>=10},on:{click:function(s){return t.quantityUpdata(a.product.id,a.quantity+1)}}},[s("i",{staticClass:"fas fa-plus"})])])])]),s("td",[s("span",[t._v("/")]),t._v(" "+t._s(a.product.unit)+" ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(a.product.price))+" ")])])})),0),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"4"}},[s("button",{staticClass:"btn btn-del-all sideline btn-sm float-left my-3",attrs:{type:"button"},on:{click:function(a){return t.removeAllCartItem()}}},[t._m(1)])])])])])]):s("div",{staticClass:"mb-3 no-shop-box"},[s("p",{staticClass:"py-5 mt-3"},[t._v(" 哎呀！您的購物車是空的，趕快去挑選裝備吧！ ")]),s("router-link",{staticClass:"text-dark",attrs:{to:"/products"}},[s("i",{staticClass:"fas fa-reply mr-2"}),t._v(" 繼續購買 ")])],1)]),s("div",{staticClass:"col-lg-4 my-3 card order-price",class:{"d-none":t.fareTotal<=0}},[s("div",{staticClass:"card-body"},[s("h3",[t._v("訂單價格")]),s("div",{staticClass:"px-4 mt-3"},[s("p",{staticClass:" d-flex justify-content-between"},[s("span",[t._v("小計：")]),s("span",[t._v(t._s(t._f("currency")(t.cartTotal)))])]),0!==t.cartTotal?s("p",{staticClass:"d-flex fare justify-content-between"},[s("span",[t._v("運費：")]),t.cartTotal>1299?s("span",[t._v(" NT 0")]):s("span",[t._v(" NT 80")])]):t._e(),s("hr",{staticClass:"m-0  my-2"}),s("p",{staticClass:"text-right promotion"},[t._v("優惠促銷：滿 1299 免運")]),s("p",{staticClass:" d-flex justify-content-between"},[s("span",[t._v("總計：")]),s("span",[t._v(" "+t._s(t._f("currency")(t.fareTotal))+" ")])]),s("hr",{staticClass:"hr-opa"}),s("div",{staticClass:"mt-3 mb-2 check-box"},[s("div",[t.carts.length>0?s("router-link",{staticClass:"text-dark",attrs:{to:"/products"}},[s("i",{staticClass:"fas fa-reply mr-2"}),t._v(" 繼續購買 ")]):t._e()],1),s("div",{staticClass:"float-right"},[s("router-link",{staticClass:"btn btn-check checkout",class:{disabled:t.fareTotal<=0},attrs:{to:"/order"}},[t._v(" 結帳 ")])],1)])])])])])]),t.isLoading?t._e():s("section",{staticClass:"bg-cart-footer"},[t._m(2)])],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{staticClass:"font-weight-bold"},[s("tr",[s("th"),s("th",{staticClass:"text-left"},[t._v("商品")]),s("th",{staticClass:"text-center"},[t._v(" 數量 ")]),s("th",[t._v("單位")]),s("th",{staticClass:"text-right"},[t._v("單價")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("i",{staticClass:"far fa-trash-alt"},[s("span",{staticClass:"pl-2"},[t._v("刪除所有商品")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container pt-4"},[s("h4",{staticClass:"font-weight-bold text-center h4"},[t._v("登山知識")]),s("div",{staticClass:"row mt-4 m-footer-cart"},[s("div",{staticClass:"col-lg-4 col-md-6 mb-4",attrs:{"data-aos":"zoom-in"}},[s("div",{staticClass:"knowledge-img position-relative",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1590395115794-c960459589d1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1419&q=80)"}},[s("div",{staticClass:"knowledge-box"},[s("h5",{staticClass:"font-weight-bolder pt-3 pb-2 pl-4"},[t._v("郊山")]),s("p",{staticClass:"px-4 my-3"},[t._v("位於約 1,000m-1,500m，難易度較低，適合想登山健走的朋友。")])])])]),s("div",{staticClass:"col-lg-4 col-md-6 mb-4",attrs:{"data-aos":"zoom-in"}},[s("div",{staticClass:"knowledge-img position-relative",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1542359649-31e03cd4d909?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80)"}},[s("div",{staticClass:"knowledge-box"},[s("h5",{staticClass:"font-weight-bolder pt-3 pb-2 pl-4"},[t._v("中級山")]),s("p",{staticClass:"px-4 my-3"},[t._v("位於海拔約 1,000m-3,000m，介於郊山與百岳之間的山。來回通常需花上 2-3 天。")])])])]),s("div",{staticClass:"col-lg-4 col-md-6 mb-4",attrs:{"data-aos":"zoom-in"}},[s("div",{staticClass:"knowledge-img position-relative",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1552590854-7a7d89b018ff?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80)"}},[s("div",{staticClass:"knowledge-box"},[s("h5",{staticClass:"font-weight-bolder pt-3 pb-2 pl-4"},[t._v("百岳")]),s("p",{staticClass:"px-4 my-3"},[t._v("百岳不是一座山，而是從台灣海拔 3,000m 以上的高山中，挑選出100座的高山做為百岳。")])])])])])])}],c=(s("99af"),s("4160"),s("159b"),s("7ebb")),o=s("8605"),n={components:{CartBanner:c["a"]},data:function(){return{carts:{},cartTotal:0,fareTotal:0,uuid:"c7010afc-c576-4a2b-9f0e-5a42977d6066",isLoading:!1,products:{},coupon_code:""}},created:function(){this.getCart()},methods:{getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat(this.uuid,"/ec/shopping");this.$http.get(a).then((function(a){t.carts=a.data.data,t.updateTotal(),t.isLoading=!1})).catch((function(){o["a"].fire({title:"資料讀取失敗，請稍後再試",icon:"error"}),t.isLoading=!1}))},updateTotal:function(){var t=0;this.carts.forEach((function(a){t+=a.product.price*a.quantity})),this.cartTotal=t,this.fareTotal=t>=1299||0===t?t:t+80},quantityUpdata:function(t,a){var s=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat(this.uuid,"/ec/shopping"),e={product:t,quantity:a};this.$http.patch(i,e).then((function(){s.getCart(),s.isLoading=!1}))},removeCartItem:function(t){var a=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat(this.uuid,"/ec/shopping/").concat(t);this.$http.delete(s).then((function(){a.$bus.$emit("update-total"),a.getCart(),a.isLoading=!1,o["a"].fire({title:"商品已刪除",icon:"success"})})).catch((function(){a.isLoading=!1,o["a"].fire({title:"商品刪除失敗",icon:"error"})}))},removeAllCartItem:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat(this.uuid,"/ec/shopping/all/product");this.$http.delete(a).then((function(){t.$bus.$emit("update-total"),t.getCart(),t.cartTotal=0,t.isLoading=!1,o["a"].fire({title:"商品已全部刪除",icon:"success"}),t.$router.push("/products")})).catch((function(){t.isLoading=!1,o["a"].fire({title:"商品刪除失敗",icon:"error"})}))}}},r=n,l=s("2877"),d=Object(l["a"])(r,i,e,!1,null,null,null);a["default"]=d.exports},"7ebb":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"cart-banner"},[s("h2",{staticClass:"text-center"},[t._v("購物清單")])])}],c=s("2877"),o={},n=Object(c["a"])(o,i,e,!1,null,null,null);a["a"]=n.exports}}]);
//# sourceMappingURL=chunk-6152eb3c.54cde465.js.map