(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-306f23e9"],{1799:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{staticClass:"py-3",attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination justify-content-center"},[s("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pages.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(a,i){return s("li",{key:i,staticClass:"page-item",class:{active:a===t.pages.current_page}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pages.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},e=[],o={props:{pages:{type:Object,required:!0}},methods:{changePage:function(t){this.$emit("changePage",t)}}},l=o,n=s("2877"),r=Object(n["a"])(l,i,e,!1,null,null,null);a["a"]=r.exports},8619:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t._m(0),s("div",{staticClass:"container follow-box"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8 col-md-12 mx-auto"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("i",{staticClass:"loading-box"})]),s("div",{staticClass:"follow-title"},[s("h3",[t._v("我的收藏 "),s("span",[t._v("( "+t._s(t.followProduct.length)+" )")])]),t.followProduct.length>0?s("select",{directives:[{name:"model",rawName:"v-model",value:t.sortData,expression:"sortData"}],staticClass:"form-control follow-sort mb-2",attrs:{name:"sortData",id:"sortData"},on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.sortData=a.target.multiple?s:s[0]},function(a){return t.sortProduct()}]}},[s("option",{attrs:{value:"",disabled:""}},[t._v("商品排序")]),s("option",{attrs:{value:"highToLow"}},[t._v("價格由高至低")]),s("option",{attrs:{value:"lowToHigh"}},[t._v("價格由低至高")])]):t._e()]),t.followProduct.length>0?s("div",{staticClass:"mb-5"},[t._l(t.followProduct,(function(a){return s("div",{key:a.id,staticClass:"mb-3"},[s("div",{staticClass:"followItem",attrs:{"data-aos":"fade-right"}},[s("div",{staticClass:"d-flex"},[s("router-link",{attrs:{to:"/product/"+a.id}},[s("img",{staticClass:"followItem-img",attrs:{src:a.imageUrl[0],alt:""}})]),s("div",{staticClass:"followItem-content"},[s("h5",[t._v(t._s(a.title))]),s("p",[t._v(t._s(a.content))]),s("p",{staticClass:"followItem-category"},[t._v(t._s(a.category))])])],1),s("div",{staticClass:"followItem-cart"},[0!==a.origin_price?s("span",{staticClass:"followItem-origin-price pr-2"},[t._v(" "+t._s(t._f("currency")(a.origin_price))+" ")]):t._e(),s("span",{staticClass:"pr-2 followItem-price"},[t._v(" "+t._s(t._f("currency")(a.price))+" ")]),s("button",{staticClass:"btn btn-check",attrs:{type:"button",disabled:t.status.loadingItem===a.id},on:{click:function(s){return t.addToCart(a.id,a.num)}}},[a.id===t.status.loadingItem?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])]),s("div",{staticClass:"m-followItem-cart"},[s("div",{staticClass:"m-fol-money"},[0!==a.origin_price?s("span",{staticClass:"m-folItem-origin-price pr-2"},[t._v(" "+t._s(t._f("currency")(a.origin_price))+" ")]):t._e(),s("span",{staticClass:"pr-2 m-folItem-price"},[t._v(" "+t._s(t._f("currency")(a.price))+" ")])]),s("button",{staticClass:"btn btn-folCart",attrs:{type:"button",disabled:t.status.loadingItem===a.id},on:{click:function(s){return t.addToCart(a.id,a.num)}}},[a.id===t.status.loadingItem?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])]),s("button",{staticClass:"follow-close",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.delFollow(a.id)}}},[s("i",{staticClass:"fas fa-times"})])])])})),t.products.length>=25?s("Pagination",{staticClass:"text-right",attrs:{pages:t.pagination},on:{changePage:t.getProducts}}):t._e()],2):s("div",{staticClass:"my-5 no-follow"},[s("p",[t._v(" 目前沒有收藏任何商品唷！ ")]),s("router-link",{staticClass:"text-cyanine",attrs:{to:"/products"}},[s("i",{staticClass:"fas fa-reply mr-2"}),t._v(" 逛逛商品 ")])],1)],1)])]),t.isLoading?t._e():s("section",{staticClass:"bg-follow-footer"},[t._m(1)])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"follow-banner"},[s("h2",{staticClass:"text-center"},[t._v("追蹤商品")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container pt-4"},[s("h4",{staticClass:"font-weight-bold text-center h4"},[t._v("登山知識")]),s("div",{staticClass:"row mt-4 m-footer-follow"},[s("div",{staticClass:"col-lg-4 col-md-6 mb-4",attrs:{"data-aos":"zoom-in"}},[s("div",{staticClass:"knowledge-img position-relative",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1524959725226-f4deb958e979?ixlib=rb-1.2.1&auto=format&fit=crop&w=1489&q=80)"}},[s("div",{staticClass:"knowledge-box"},[s("h5",{staticClass:"font-weight-bolder pt-3 pb-2 pl-4"},[t._v("別執著於攻頂")]),s("p",{staticClass:"px-4 my-3"},[t._v("天氣不佳，不用執著於攻頂。寧可保守也不要過度冒險，人身安全還是最重要，記住，山，永遠都在。")])])])]),s("div",{staticClass:"col-lg-4 col-md-6 mb-4",attrs:{"data-aos":"zoom-in"}},[s("div",{staticClass:"knowledge-img position-relative",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1549538941-80646129626c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1490&q=80)"}},[s("div",{staticClass:"knowledge-box"},[s("h5",{staticClass:"font-weight-bolder pt-3 pb-2 pl-4"},[t._v("無痕山林運動")]),s("p",{staticClass:"px-4 my-3"},[t._v("不把人為製造的垃圾留在山上。帶什麼東西上山，就要帶什麼下山。")])])])]),s("div",{staticClass:"col-lg-4 col-md-6 mb-4",attrs:{"data-aos":"zoom-in"}},[s("div",{staticClass:"knowledge-img position-relative",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1551632811-561732d1e306?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80)"}},[s("div",{staticClass:"knowledge-box"},[s("h5",{staticClass:"font-weight-bolder pt-3 pb-2 pl-4"},[t._v("山上無法吃得太豐盛")]),s("p",{staticClass:"px-4 my-3"},[t._v("盡可能減輕背包的重量，登山的餐食會以簡單的零食或乾糧為主。")])])])])])])}],o=(s("99af"),s("4de4"),s("c975"),s("a434"),s("8605")),l=s("1799"),n={data:function(){return{isLoading:!1,status:{loadingItem:""},products:{},followProduct:{},sortData:"",followData:JSON.parse(localStorage.getItem("followCard"))||[],pagination:{},carts:{},uuid:"c7010afc-c576-4a2b-9f0e-5a42977d6066"}},components:{Pagination:l["a"]},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat(this.uuid,"/ec/products?page=").concat(a);this.$http.get(s).then((function(a){t.products=a.data.data,t.pagination=a.data.meta.pagination,t.getFollow(),t.isLoading=!1})).catch((function(){o["a"].fire({title:"資料讀取失敗，請稍後再試",icon:"error"}),t.isLoading=!1}))},getFollow:function(){var t=this;this.followProduct=this.products.filter((function(a){return t.followData.indexOf(a.id)>-1}))},addToCart:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat(this.uuid,"/ec/shopping"),e={product:t,quantity:s};this.$http.post(i,e).then((function(){a.status.loadingItem="",a.$bus.$emit("update-total"),o["a"].fire({title:"已加入購物車",icon:"success"})})).catch((function(t){a.status.loadingItem="",o["a"].fire({title:"".concat(t.response.data.errors),icon:"warning"})}))},delFollow:function(t){var a=this.followData.indexOf(t);-1!==a&&(this.followData.splice(a,1),o["a"].fire({title:"已取消收藏",icon:"success"})),localStorage.setItem("followCard",JSON.stringify(this.followData)),this.getProducts()},sortProduct:function(){var t=this;this.followProduct.sort((function(a,s){return"lowToHigh"===t.sortData?a.price-s.price:"highToLow"===t.sortData?s.price-a.price:t.followProduct}))}}},r=n,c=s("2877"),d=Object(c["a"])(r,i,e,!1,null,null,null);a["default"]=d.exports},a434:function(t,a,s){"use strict";var i=s("23e7"),e=s("23cb"),o=s("a691"),l=s("50c4"),n=s("7b0b"),r=s("65f0"),c=s("8418"),d=s("1dde"),u=s("ae40"),p=d("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,h=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,a){var s,i,d,u,p,f,_=n(this),C=l(_.length),w=e(t,C),b=arguments.length;if(0===b?s=i=0:1===b?(s=0,i=C-w):(s=b-2,i=h(g(o(a),0),C-w)),C+s-i>v)throw TypeError(m);for(d=r(_,i),u=0;u<i;u++)p=w+u,p in _&&c(d,u,_[p]);if(d.length=i,s<i){for(u=w;u<C-i;u++)p=u+i,f=u+s,p in _?_[f]=_[p]:delete _[f];for(u=C;u>C-i+s;u--)delete _[u-1]}else if(s>i)for(u=C-i;u>w;u--)p=u+i-1,f=u+s-1,p in _?_[f]=_[p]:delete _[f];for(u=0;u<s;u++)_[u+w]=arguments[u+2];return _.length=C-i+s,d}})},c975:function(t,a,s){"use strict";var i=s("23e7"),e=s("4d64").indexOf,o=s("a640"),l=s("ae40"),n=[].indexOf,r=!!n&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),d=l("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:r||!c||!d},{indexOf:function(t){return r?n.apply(this,arguments)||0:e(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-306f23e9.06c81124.js.map